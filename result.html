<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6098747212157218"
         crossorigin="anonymous"></script>
    <title>최근 테스트 결과 | 모두의 테스트</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="top-bar">
        <div class="top-bar-left">
            <a class="top-bar-logo" href="index.html">모두의 테스트</a>
        </div>
    </header>

    <main class="page-main">
        <div class="container wide-container">
            <h1>최근 테스트 결과</h1>
            <section id="result-detail" class="content-section" hidden>
                <h2 id="result-test-title"></h2>
                <p id="result-type" class="recent-result-type"></p>
                <p id="result-summary" class="intro-copy"></p>
            </section>
            <p id="result-empty" class="empty-message" hidden>결과 정보를 찾을 수 없습니다.</p>
            <section class="content-section">
                <a href="index.html" class="primary-link">메인으로 돌아가기</a>
            </section>
        </div>
    </main>

    <footer class="site-footer">
        <div class="site-footer-inner">
            <p>© 2026 모두의 테스트. All rights reserved.</p>
            <div class="text-link-list footer-links">
                <a href="privacy.html">개인정보처리방침</a>
                <a href="terms.html">이용약관</a>
                <a href="contact.html">문의하기</a>
            </div>
        </div>
    </footer>

    <script>
        (function initResultPage() {
            const detailEl = document.getElementById("result-detail");
            const emptyEl = document.getElementById("result-empty");
            const titleEl = document.getElementById("result-test-title");
            const typeEl = document.getElementById("result-type");
            const summaryEl = document.getElementById("result-summary");

            try {
                const params = new URLSearchParams(window.location.search);
                const recordId = params.get("record");
                const items = JSON.parse(localStorage.getItem("recentTestResultsV1") || "[]");
                const found = Array.isArray(items)
                    ? items.find((item) => item && item.id === recordId)
                    : null;

                if (!found) {
                    emptyEl.hidden = false;
                    return;
                }

                titleEl.textContent = found.testTitle || "테스트";
                typeEl.textContent = found.resultType || "-";
                summaryEl.textContent = found.summary || "결과 요약이 없습니다.";
                detailEl.hidden = false;
            } catch (error) {
                emptyEl.hidden = false;
            }
        })();
    </script>
</body>
</html>
